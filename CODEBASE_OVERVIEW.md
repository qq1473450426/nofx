# NOFX - AIäº¤æ˜“æ“ä½œç³»ç»Ÿ - å®Œæ•´ä»£ç åº“æ¦‚è§ˆ

## 1. é¡¹ç›®æ ¸å¿ƒå®šä¹‰

### ä¸»è¦ç›®çš„
**NOFX** æ˜¯ä¸€ä¸ªé€šç”¨æ¶æ„çš„ **AIäº¤æ˜“æ“ä½œç³»ç»Ÿï¼ˆAgentic Trading OSï¼‰**ï¼Œé‡‡ç”¨å¤šæ™ºèƒ½ä½“åä½œæ¡†æ¶ï¼Œå®ç°è‡ªä¸»äº¤æ˜“å†³ç­–ã€ç»Ÿä¸€é£æ§å’Œä½å»¶è¿Ÿæ‰§è¡Œçš„å®Œæ•´é—­ç¯ã€‚

**å…³é”®äº®ç‚¹**ï¼š
- å¤šAIæ¨¡å‹æ”¯æŒï¼ˆQwen/DeepSeekï¼‰
- å¤šäº¤æ˜“æ‰€æ•´åˆï¼ˆBinanceã€Hyperliquidã€Aster DEXï¼‰
- æåº¦ä¿å®ˆçš„é€†åŠ¿ç­–ç•¥ï¼ˆV5.0 MVPï¼‰
- Multi-Agentå†³ç­–æ¶æ„ï¼Œå®Œå…¨è§£è€¦

**æ ¸å¿ƒæµç¨‹**ï¼šå¤šæ™ºèƒ½ä½“å†³ç­– â†’ ç»Ÿä¸€é£æ§ â†’ ä½å»¶è¿Ÿæ‰§è¡Œ â†’ å†³ç­–æ—¥å¿—è®°å½•

---

## 2. æ•´ä½“æ¶æ„ä¸æ ¸å¿ƒç»„ä»¶

### 2.1 ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        NOFXç³»ç»Ÿæ¶æ„                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  main.go (ä¸»å…¥å£)                                               â”‚
â”‚      â†“                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 1ï¸âƒ£ Manager: ç®¡ç†å¤šä¸ªTraderçš„ç”Ÿå‘½å‘¨æœŸ                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚      â†“                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 2ï¸âƒ£ AutoTrader: ä¸»äº¤æ˜“å™¨ï¼ˆæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼‰                  â”‚  â”‚
â”‚  â”‚    - å®šæ—¶æ‰«æï¼ˆ3åˆ†é’Ÿé—´éš”ï¼‰                                â”‚  â”‚
â”‚  â”‚    - è°ƒç”¨Decision Engineè·å–äº¤æ˜“å†³ç­–                     â”‚  â”‚
â”‚  â”‚    - æ‰§è¡Œè®¢å•å¹¶è®°å½•æ—¥å¿—                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚      â†“                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 3ï¸âƒ£ Decision Engine: å†³ç­–å¼•æ“ï¼ˆMulti-Agentæ¶æ„ï¼‰          â”‚  â”‚
â”‚  â”‚    â”œâ”€ å¸‚åœºä½“åˆ¶åˆ†æAgent (Regime Agent)                  â”‚  â”‚
â”‚  â”‚    â”œâ”€ äº¤æ˜“ä¿¡å·æ£€æµ‹Agent (Signal Agent)                  â”‚  â”‚
â”‚  â”‚    â”œâ”€ æŒä»“è¯„ä¼°Agent (Position Agent)                    â”‚  â”‚
â”‚  â”‚    â””â”€ é£é™©è®¡ç®—Agent (Risk Agent)                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚      â†“                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 4ï¸âƒ£ å¸‚åœºæ•°æ®å±‚ (Market Data)                              â”‚  â”‚
â”‚  â”‚    - ä»Binance APIè·å–Kçº¿ã€æŒ‡æ ‡ã€æŒä»“é‡ç­‰                 â”‚  â”‚
â”‚  â”‚    - æ”¯æŒå¤šæ—¶é—´æ¡†æ¶æ•°æ®è·å–                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚      â†“                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 5ï¸âƒ£ AIå†³ç­–å±‚ (MCP Client - LLMæ¥å£)                       â”‚  â”‚
â”‚  â”‚    - è°ƒç”¨DeepSeek/Qwen API                               â”‚  â”‚
â”‚  â”‚    - System Prompt + User Promptæ¨¡å¼                    â”‚  â”‚
â”‚  â”‚    - è¿”å›JSONæ ¼å¼çš„å†³ç­–                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚      â†“                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 6ï¸âƒ£ æ‰§è¡Œå±‚ (Trader Interface)                             â”‚  â”‚
â”‚  â”‚    â”œâ”€ Binance Futures (å¸å®‰åˆçº¦)                        â”‚  â”‚
â”‚  â”‚    â”œâ”€ Hyperliquid (DEXæ°¸ç»­æœŸè´§)                         â”‚  â”‚
â”‚  â”‚    â”œâ”€ Aster DEX (å…¼å®¹Binance API)                       â”‚  â”‚
â”‚  â”‚    â””â”€ Mock Trader (çº¸é¢äº¤æ˜“æµ‹è¯•)                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚      â†“                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 7ï¸âƒ£ æ—¥å¿—è®°å½•å±‚ (Decision Logger)                          â”‚  â”‚
â”‚  â”‚    - å®Œæ•´çš„å†³ç­–è¿‡ç¨‹è®°å½•ï¼ˆpromptã€CoTã€JSONç­‰ï¼‰           â”‚  â”‚
â”‚  â”‚    - è´¦æˆ·çŠ¶æ€å¿«ç…§                                        â”‚  â”‚
â”‚  â”‚    - æŒä»“å¿«ç…§                                            â”‚  â”‚
â”‚  â”‚    - æ‰§è¡Œç»“æœæ—¥å¿—                                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                   â”‚
â”‚  ğŸŒ APIæœåŠ¡å™¨ (Ginæ¡†æ¶)                                         â”‚
â”‚    - å®æ—¶æŸ¥è¯¢å†³ç­–è¿‡ç¨‹                                          â”‚
â”‚    - Web Dashboard                                              â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æ ¸å¿ƒç»„ä»¶è¯¦è§£

| ç»„ä»¶ | æ–‡ä»¶ | èŒè´£ | å…³é”®ç‰¹æ€§ |
|------|------|------|--------|
| **Manager** | `/manager/trader_manager.go` | ç®¡ç†å¤šä¸ªTraderçš„ç”Ÿå‘½å‘¨æœŸ | æ”¯æŒå¹¶å‘è¿è¡Œå¤šä¸ªAIæ¨¡å‹ |
| **AutoTrader** | `/trader/auto_trader.go` | ä¸»äº¤æ˜“ä¸šåŠ¡é€»è¾‘ | å®šæ—¶æ‰«æã€å†³ç­–ã€æ‰§è¡Œã€æ—¥å¿— |
| **Decision Engine** | `/decision/engine.go` | ç»Ÿä¸€çš„å†³ç­–æ¥å£ | è°ƒç”¨Multi-Agentæ¶æ„ |
| **Orchestrator** | `/decision/agents/orchestrator.go` | Multi-Agentåè°ƒ | 4ä¸ªAgentçš„åä½œç¼–æ’ |
| **RegimeAgent** | `/decision/agents/regime_agent.go` | å¸‚åœºä½“åˆ¶åˆ†æ | åˆ¤æ–­A1/A2/B/Cå››ç§ä½“åˆ¶ |
| **SignalAgent** | `/decision/agents/signal_agent.go` | äº¤æ˜“ä¿¡å·æ£€æµ‹ | è¯†åˆ«é•¿çŸ­ä¿¡å·ã€è¯„åˆ† |
| **PositionAgent** | `/decision/agents/position_agent.go` | æŒä»“è¯„ä¼° | å†³å®šæ˜¯å¦å¹³ä»“ |
| **RiskAgent** | `/decision/agents/risk_agent.go` | é£é™©è®¡ç®— | è®¡ç®—æ­¢æŸæ­¢ç›ˆã€æ æ†ã€ä»“ä½å¤§å° |
| **Market Data** | `/market/data.go` | å¸‚åœºæ•°æ®è·å– | Kçº¿ã€æŒ‡æ ‡ã€OIã€èµ„é‡‘è´¹ç‡ |
| **Trader Interface** | `/trader/interface.go` | äº¤æ˜“æ‰€é€‚é…å™¨ | æ”¯æŒå¤šä¸ªäº¤æ˜“æ‰€ |
| **DecisionLogger** | `/logger/decision_logger.go` | å†³ç­–æ—¥å¿— | JSONæ ¼å¼å®Œæ•´è®°å½• |
| **MCP Client** | `/mcp/client.go` | LLM APIè°ƒç”¨ | æ”¯æŒDeepSeekã€Qwenã€è‡ªå®šä¹‰API |

---

## 3. å…³é”®ç›®å½•åŠå…¶åŠŸèƒ½

```
/Users/sunjiaqiang/nofx/
â”œâ”€â”€ main.go                          # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ go.mod / go.sum                  # Goä¾èµ–ç®¡ç†
â”‚
â”œâ”€â”€ config/                          # é…ç½®ç®¡ç†
â”‚   â””â”€â”€ config.go                   # é…ç½®æ–‡ä»¶åŠ è½½ï¼ˆJSONæ ¼å¼ï¼‰
â”‚
â”œâ”€â”€ decision/                        # å†³ç­–ç³»ç»Ÿï¼ˆæ ¸å¿ƒï¼‰
â”‚   â”œâ”€â”€ engine.go                   # å†³ç­–å¼•æ“ï¼ˆè°ƒç”¨Multi-Agentï¼‰
â”‚   â””â”€â”€ agents/                     # Multi-Agentæ¶æ„
â”‚       â”œâ”€â”€ orchestrator.go         # åè°ƒ4ä¸ªAgentçš„å†³ç­–æµç¨‹
â”‚       â”œâ”€â”€ regime_agent.go         # å¸‚åœºä½“åˆ¶åˆ¤æ–­ (A1/A2/B/C)
â”‚       â”œâ”€â”€ signal_agent.go         # äº¤æ˜“ä¿¡å·æ£€æµ‹
â”‚       â”œâ”€â”€ position_agent.go       # æŒä»“è¯„ä¼°
â”‚       â”œâ”€â”€ risk_agent.go           # é£é™©è®¡ç®—
â”‚       â”œâ”€â”€ constants.go            # å…¨å±€å¸¸é‡å®šä¹‰
â”‚       â””â”€â”€ utils.go                # å·¥å…·å‡½æ•°
â”‚
â”œâ”€â”€ trader/                          # äº¤æ˜“æ‰§è¡Œå±‚
â”‚   â”œâ”€â”€ interface.go                # Traderæ¥å£å®šä¹‰
â”‚   â”œâ”€â”€ auto_trader.go              # è‡ªåŠ¨äº¤æ˜“å™¨ä¸»ç±»
â”‚   â”œâ”€â”€ binance_futures.go          # Binanceåˆçº¦å®ç°
â”‚   â”œâ”€â”€ hyperliquid_trader.go       # Hyperliquidå®ç°
â”‚   â”œâ”€â”€ aster_trader.go             # Aster DEXå®ç°
â”‚   â”œâ”€â”€ mock_trader.go              # çº¸é¢äº¤æ˜“ï¼ˆæµ‹è¯•ç”¨ï¼‰
â”‚   â””â”€â”€ constraints.go              # äº¤æ˜“ç¡¬çº¦æŸï¼ˆé£æ§ï¼‰
â”‚
â”œâ”€â”€ market/                          # å¸‚åœºæ•°æ®è·å–
â”‚   â””â”€â”€ data.go                     # æ•°æ®ç»“æ„ + Kçº¿è·å–
â”‚
â”œâ”€â”€ logger/                          # æ—¥å¿—è®°å½•
â”‚   â””â”€â”€ decision_logger.go          # å†³ç­–æ—¥å¿—è®°å½•å™¨
â”‚
â”œâ”€â”€ manager/                         # ç”Ÿå‘½å‘¨æœŸç®¡ç†
â”‚   â””â”€â”€ trader_manager.go           # Traderç®¡ç†å™¨
â”‚
â”œâ”€â”€ mcp/                             # LLMæ¥å£
â”‚   â””â”€â”€ client.go                   # AI APIè°ƒç”¨ï¼ˆDeepSeek/Qwenï¼‰
â”‚
â”œâ”€â”€ pool/                            # å¸ç§æ± ï¼ˆæ¥è‡ªAI500/OI_Topï¼‰
â”‚   â””â”€â”€ coin_pool.go                # è·å–çƒ­ç‚¹å¸ç§
â”‚
â”œâ”€â”€ api/                             # Web APIæœåŠ¡
â”‚   â””â”€â”€ server.go                   # Ginæ¡†æ¶çš„HTTPæœåŠ¡
â”‚
â”œâ”€â”€ decision_logs/                   # å†³ç­–æ—¥å¿—å­˜å‚¨
â”‚   â””â”€â”€ binance_live_deepseek/      # æ—¥å¿—æŒ‰traderåˆ†ç±»
â”‚       â””â”€â”€ decision_cycle*.json    # æ¯ä¸ªæ‰«æå‘¨æœŸçš„å†³ç­–è®°å½•
â”‚
â”œâ”€â”€ config.json                      # é…ç½®æ–‡ä»¶ï¼ˆtraderã€APIã€æ æ†ç­‰ï¼‰
â”œâ”€â”€ config.json.example              # é…ç½®æ–‡ä»¶ç¤ºä¾‹
â”‚
â””â”€â”€ [åˆ†æè„šæœ¬] (Python)
    â”œâ”€â”€ analyze_trades.py            # äº¤æ˜“åˆ†æ
    â”œâ”€â”€ analyze_closes.py            # å¹³ä»“åˆ†æ
    â”œâ”€â”€ analyze_holding_duration.py  # æŒä»“æ—¶é•¿åˆ†æ
    â””â”€â”€ ...ç­‰20+ä¸ªåˆ†æè„šæœ¬
```

---

## 4. æ ¸å¿ƒæŠ€æœ¯æ ˆ

### ç¼–ç¨‹è¯­è¨€ä¸æ¡†æ¶
| æŠ€æœ¯ | ç”¨é€” | ç‰ˆæœ¬ |
|------|------|------|
| **Go** | åç«¯ä¸»ç¨‹åº | 1.25.0 |
| **Gin** | Web APIæ¡†æ¶ | v1.11.0 |
| **Python** | æ•°æ®åˆ†æã€å›æµ‹ | 3.x |
| **React** | Web Dashboard | 18+ |
| **TypeScript** | å‰ç«¯ç±»å‹å®‰å…¨ | 5.0+ |

### å…³é”®ä¾èµ–

```go
// äº¤æ˜“æ‰€API
github.com/adshao/go-binance/v2      # Binanceå®˜æ–¹SDK
github.com/sonirico/go-hyperliquid   # Hyperliquid SDK

// åŒºå—é“¾
github.com/ethereum/go-ethereum      # ETHé’±åŒ…ä¸ç­¾å

// Webæ¡†æ¶
github.com/gin-gonic/gin             # HTTPæ¡†æ¶

// å…¶ä»–å·¥å…·
github.com/joho/godotenv             # ç¯å¢ƒå˜é‡åŠ è½½
github.com/shopspring/decimal        # é«˜ç²¾åº¦è®¡ç®—
```

---

## 5. å½“å‰ç‰ˆæœ¬çŠ¶æ€ - V6.0 Prediction-Driven Architecture

### æœ€æ–°æ¶æ„æ”¹è¿›
```
âœ… V6.0 é¢„æµ‹é©±åŠ¨æ¶æ„ (2025-11-08)
  - orchestrator_predictive.go: Multi-Agenté¢„æµ‹é©±åŠ¨å†³ç­–
  - PredictionAgent: AIé¢„æµ‹æœªæ¥èµ°åŠ¿ï¼ˆV3.0 Promptä¼˜åŒ–ï¼‰
  - åŠ¨æ€Performance Feedbackæœºåˆ¶
  - å…³é”®å†²çªæ£€æµ‹ï¼ˆé‡ä»·èƒŒç¦»ã€æƒ…ç»ªèƒŒç¦»ã€æŒ‡æ ‡å†²çªï¼‰

âœ… V3.0 Promptä¼˜åŒ– (2025-11-08)
  - æ¦‚ç‡æ ¡å‡†è§„åˆ™ â†’ æ¦‚ç‡æ ¡å‡†æŒ‡å—ï¼ˆä»è§„åˆ™æ‰§è¡Œè€…åˆ°æ¨¡å¼è¯†åˆ«è€…ï¼‰
  - æ·»åŠ å…³é”®å†²çªæ£€æµ‹æœºåˆ¶
  - åŠ¨æ€å­¦ä¹ è§„åˆ™ï¼ˆåŸºäºå†å²æˆåŠŸ/å¤±è´¥æ¡ˆä¾‹ï¼‰
  - åˆ é™¤å¿ƒç†é”šå®šé™åˆ¶

å†å²ç‰ˆæœ¬ï¼š
  - V5.0 é€†åŠ¿ç­–ç•¥MVP (å·²åºŸå¼ƒ)
  - V4.0 åå¼¹ç¡®è®¤é€»è¾‘ (å·²åºŸå¼ƒ)
```

### V6.0 æ ¸å¿ƒæ¶æ„

#### ğŸ¯ é¢„æµ‹é©±åŠ¨å†³ç­–æµç¨‹
**æ–‡ä»¶**: `decision/agents/orchestrator_predictive.go`

```
STEP 1: å¸‚åœºæƒ…æŠ¥æ”¶é›† (MarketIntelligenceAgent)
  â†“
STEP 2: æŒä»“ç®¡ç† (PredictionAgent â†’ é¢„æµ‹æŒä»“æœªæ¥èµ°åŠ¿)
  â†“
STEP 3: å¯»æ‰¾æ–°æœºä¼š (PredictionAgent â†’ é¢„æµ‹å€™é€‰å¸ç§)
  â†“
STEP 4: é£é™©è®¡ç®— (RiskAgent â†’ å‡¯åˆ©å…¬å¼ + Zero-Trust)
```

#### ğŸ§  PredictionAgent V3.0 ç‰¹æ€§
**æ–‡ä»¶**: `decision/agents/prediction_agent.go`

**å…³é”®ä¼˜åŒ–**ï¼š
1. **æ¦‚ç‡æ ¡å‡†æŒ‡å—**ï¼ˆéç¡¬æ€§è§„åˆ™ï¼‰
   - åŸºç¡€æ¦‚ç‡èŒƒå›´ä»…ä¾›å‚è€ƒ
   - å…³é”®å†²çªå¿…é¡»é™ä½æ¦‚ç‡
   - å…è®¸AIæ ¹æ®æ¨¡å¼è¯†åˆ«è°ƒæ•´

2. **å…³é”®å†²çªæ£€æµ‹**ï¼ˆCritical Conflictsï¼‰
   - é‡ä»·èƒŒç¦»ï¼šæˆäº¤é‡èç¼© <-50%
   - æƒ…ç»ªèƒŒç¦»ï¼šä»·æ ¼ä¸ææƒ§è´ªå©ªæŒ‡æ•°æ–¹å‘ç›¸å
   - æŒ‡æ ‡å†²çªï¼šè¶‹åŠ¿ä¸åŠ¨é‡æ–¹å‘ç›¸å

3. **åŠ¨æ€å­¦ä¹ è§„åˆ™**
   - æ¯æ¬¡é¢„æµ‹å‰è¯»å–æœ€è¿‘8æ¡è¯„ä¼°è®°å½•
   - æ˜¾ç¤ºæˆåŠŸæ¡ˆä¾‹ï¼ˆæ­£å‘æ¿€åŠ±ï¼‰
   - æ˜¾ç¤ºå¤±è´¥æ¡ˆä¾‹ï¼ˆå­¦ä¹ æœºä¼šï¼‰
   - Action Guidanceï¼ˆ4é—®æœºåˆ¶ï¼‰

4. **å»é™¤å¿ƒç†é”šå®š**
   - åˆ é™¤"å¾ˆå°‘ä½¿ç”¨>0.75"çš„é™åˆ¶
   - å…è®¸AIåœ¨å®Œç¾ä¿¡å·æ—¶ç»™å‡ºé«˜æ¦‚ç‡

**AIè§’è‰²è½¬å˜**ï¼š
- âŒ æ—§ç‰ˆï¼šè§„åˆ™æ‰§è¡Œè€…ï¼ˆæœºæ¢°åº”ç”¨å…¬å¼ï¼‰
- âœ… æ–°ç‰ˆï¼šæ¨¡å¼è¯†åˆ«è€…ï¼ˆè¯†åˆ«è§„åˆ™ä¹‹å¤–çš„é£é™©ï¼‰

---
- **ä¿¡å¿ƒåº¦**: å¿…é¡»85åˆ†ä»¥ä¸Š

#### ğŸ“Š A2åå¼¹ç¡®è®¤æœºåˆ¶ï¼ˆV4.0æŒç»­ï¼‰
- åå¼¹åšç©ºéœ€è¦3ç»´ä¿¡å·å…±æŒ¯
- åå¼¹é«˜åº¦éœ€è¦çªç ´EMA20
- è¯¦ç»†æ—¥å¿—è®°å½•æ¯æ­¥é€»è¾‘

#### âœ… ä¿®å¤é¡¹
1. âœ“ å‘¨æœŸç¼–å·åœ¨ç³»ç»Ÿé‡å¯åé‡ç½®é—®é¢˜
2. âœ“ DeepSeek APIè¶…æ—¶å¤„ç†
3. âœ“ å¼ºå¹³ä»·æ ¡éªŒå¤±æ•ˆé—®é¢˜
4. âœ“ A2 "æŠ¢è·‘"é—®é¢˜ï¼ˆè¿‡æ—©å¹³ä»“ï¼‰

---

## 6. å†³ç­–ç³»ç»Ÿå·¥ä½œæµç¨‹ (Multi-Agentæ¶æ„)

### æ•´ä½“æµç¨‹
```
æ¯3åˆ†é’Ÿä¸€ä¸ªæ‰«æå‘¨æœŸï¼š
â”‚
â”œâ”€ 1ï¸âƒ£ è·å–å¸‚åœºæ•°æ®
â”‚   â”œâ”€ BTC 4h æ•°æ®ï¼ˆç”¨äºåˆ¤æ–­å¤§ç›˜ä½“åˆ¶ï¼‰
â”‚   â”œâ”€ å€™é€‰å¸ç§ 3m + 4h æ•°æ®
â”‚   â””â”€ æŒä»“å¸ç§å®Œæ•´å¸‚åœºæ•°æ®
â”‚
â”œâ”€ 2ï¸âƒ£ Orchestrator åè°ƒå†³ç­– (ç”± Decision Engine è°ƒç”¨)
â”‚   â”‚
â”‚   â”œâ”€ Agent 1ï¸âƒ£: RegimeAgent åˆ†æå¸‚åœºä½“åˆ¶
â”‚   â”‚  â””â”€ è¾“å…¥: BTC 4h æ•°æ®
â”‚   â”‚  â””â”€ è¾“å‡º: Regime (A1/A2/B/C) + ATR% + ç­–ç•¥æ–¹å‘
â”‚   â”‚
â”‚   â”œâ”€ Agent 2ï¸âƒ£: SignalAgent æ£€æµ‹äº¤æ˜“ä¿¡å·
â”‚   â”‚  â”œâ”€ è¾“å…¥: æ¯ä¸ªå¸ç§æ•°æ® + Regime
â”‚   â”‚  â”œâ”€ æµç¨‹:
â”‚   â”‚  â”‚   a) Goç«¯è®¡ç®—ç»´åº¦ä¿¡å·ï¼ˆä½“åˆ¶/åŠ¨é‡/ä½ç½®/èµ„é‡‘/æƒ…ç»ªï¼‰
â”‚   â”‚  â”‚   b) è°ƒç”¨AIè¯„ä»·ä¿¡å·è´¨é‡
â”‚   â”‚  â”‚   c) è®¡ç®—ä¿¡å·è¯„åˆ†ï¼ˆ50-100ï¼‰
â”‚   â”‚  â””â”€ è¾“å‡º: SignalResult (æ–¹å‘/ä¿¡å·åˆ—è¡¨/è¯„åˆ†/ä¿¡å¿ƒç­‰çº§)
â”‚   â”‚
â”‚   â”œâ”€ Agent 3ï¸âƒ£: PositionAgent è¯„ä¼°å½“å‰æŒä»“
â”‚   â”‚  â”œâ”€ è¾“å…¥: æ¯ä¸ªæŒä»“ + å¸‚åœºæ•°æ® + Regime
â”‚   â”‚  â”œâ”€ å†³ç­–:
â”‚   â”‚  â”‚   - å¼ºåˆ¶æ­¢æŸä¿¡å·ï¼Ÿï¼ˆRSIæå€¼ã€äºæŸ>-10%ã€ä½“åˆ¶åè½¬ï¼‰
â”‚   â”‚  â”‚   - å‘¼å¸ç©ºé—´è§„åˆ™ï¼ˆ<30minç»™äºˆå®¹å¿ï¼‰
â”‚   â”‚  â”‚   - åŸå§‹ç†ç”±æ¶ˆå¤±ï¼Ÿâ†’ è€ƒè™‘å¹³ä»“
â”‚   â”‚  â””â”€ è¾“å‡º: PositionDecision (hold/close_long/close_short)
â”‚   â”‚
â”‚   â”œâ”€ Agent 4ï¸âƒ£: RiskAgent è®¡ç®—é£é™©å‚æ•°
â”‚   â”‚  â”œâ”€ è¾“å…¥: æ‹Ÿå¼€ä»“ä¿¡å· + å¸‚åœºæ•°æ® + Regime
â”‚   â”‚  â”œâ”€ æµç¨‹:
â”‚   â”‚  â”‚   a) Goç«¯è®¡ç®—ATR%ã€å¼ºå¹³ä»·
â”‚   â”‚  â”‚   b) AIé€‰æ‹©æ­¢æŸ/æ­¢ç›ˆå€æ•°
â”‚   â”‚  â”‚   c) Goç«¯è®¡ç®—ä»“ä½å¤§å°ï¼ˆåŸºäºé£é™©é¢„ç®—ï¼‰
â”‚   â”‚  â”‚   d) éªŒè¯R/Ræ¯” >= 2.0
â”‚   â”‚  â”‚   e) éªŒè¯æ­¢æŸåœ¨å¼ºå¹³ä»·èŒƒå›´å†…
â”‚   â”‚  â””â”€ è¾“å‡º: RiskParameters (æ æ†/ä»“ä½/æ­¢æŸ/æ­¢ç›ˆ/R/R)
â”‚   â”‚
â”‚   â””â”€ Orchestrator æ±‡æ€»å†³ç­–
â”‚       â””â”€ è¾“å‡º: FullDecision (å†³ç­–æ•°ç»„)
â”‚
â”œâ”€ 3ï¸âƒ£ AutoTrader æ‰§è¡Œå†³ç­–
â”‚   â”œâ”€ éªŒè¯çº¦æŸæ¡ä»¶
â”‚   â”œâ”€ åŒå¸ç§å†·å´æœŸæ£€æŸ¥ï¼ˆå¹³ä»“å20åˆ†é’Ÿå†…ç¦æ­¢é‡å¼€ï¼‰
â”‚   â”œâ”€ æœ€å¤šæŒä»“æ•°æ£€æŸ¥ï¼ˆ3ä¸ªå¸ç§ï¼‰
â”‚   â”œâ”€ æ‰§è¡Œè®¢å•ï¼ˆåšå¤š/åšç©º/å¹³ä»“ï¼‰
â”‚   â””â”€ è®°å½•æ‰§è¡Œæ—¥å¿—
â”‚
â””â”€ 4ï¸âƒ£ DecisionLogger å®Œæ•´è®°å½•
    â”œâ”€ è¾“å…¥Promptï¼ˆUser + Systemï¼‰
    â”œâ”€ AIæ€ç»´é“¾ï¼ˆCoT Traceï¼‰
    â”œâ”€ JSONå†³ç­–
    â”œâ”€ è´¦æˆ·å¿«ç…§
    â”œâ”€ æŒä»“å¿«ç…§
    â””â”€ æ‰§è¡Œæ—¥å¿—
```

### å…³é”®æ¦‚å¿µ

#### å¸‚åœºä½“åˆ¶ (A1/A2/B/C)
| ä½“åˆ¶ | åˆ¤æ–­è§„åˆ™ | ç­–ç•¥ | å¼€ä»“é™åˆ¶ |
|------|--------|------|--------|
| **A1** ä¸Šå‡è¶‹åŠ¿ | Price > EMA50 > EMA200 | âœ… é¡ºåŠ¿åšå¤š | å›è¸©EMA20æ”¯æ’‘ |
| **A2** ä¸‹é™è¶‹åŠ¿ | Price < EMA50 < EMA200 | âœ… é¡ºåŠ¿åšç©º | åå¼¹EMA20é˜»åŠ› |
| **B** å®½å¹…éœ‡è¡ | Price åœ¨EMAä¹‹é—´æ‘‡æ‘† | âš ï¸ è°¨æ…é«˜æŠ›ä½å¸ | RSIè¶…ä¹°/è¶…å– |
| **C** çª„å¹…ç›˜æ•´ | ATR% < 1.0% | ğŸ›‘ ç¦æ­¢å¼€ä»“ | ç­‰å¾…æ³¢åŠ¨ |

#### ä¿¡å·ç»´åº¦ï¼ˆ5ç»´ï¼‰
1. **ä½“åˆ¶/è¶‹åŠ¿**: MACDã€EMAä½ç½®
2. **åŠ¨é‡**: RSIè¶…å–/è¶…ä¹°
3. **ä½ç½®**: ä»·æ ¼vså‡çº¿ä½ç½®
4. **èµ„é‡‘**: æˆäº¤é‡ã€OIå˜åŒ–
5. **æƒ…ç»ª**: èµ„é‡‘è´¹ç‡ã€OI_Topå‡€ä»“

**å¼€ä»“è¦æ±‚**: è‡³å°‘3ä¸ªç»´åº¦åŒæ—¶æˆç«‹

#### é›¶ä¿¡ä»»åŸåˆ™ï¼ˆZero-Trustï¼‰
- âœ… ATR%, R/Ræ¯”, å¼ºå¹³ä»· - **Goç«¯è®¡ç®—**ï¼ˆç²¾ç¡®ã€ä¸å¯ä¼ªé€ ï¼‰
- âœ… ä¿¡å·ç»´åº¦åˆ¤æ–­ - **Goç«¯å®¡è®¡**ï¼ˆè¦†ç›–AIç»“æœï¼‰
- âœ… ä»“ä½å¤§å° - **Goç«¯æ ¹æ®é£é™©é¢„ç®—è®¡ç®—**
- ğŸ¤– AIåªè´Ÿè´£: å®šæ€§åˆ†æã€å€æ•°é€‰æ‹©ã€ä¿¡å¿ƒè¯„ä»·

---

## 7. äº¤æ˜“ç­–ç•¥åˆ†æ

### V5.0 é€†åŠ¿åšå¤šï¼ˆæ–°å¢ï¼‰
```
åœºæ™¯: A2ä¸‹é™è¶‹åŠ¿ + RSI7 <= 25
â”‚
â”œâ”€ è§¦å‘æ¡ä»¶:
â”‚  â”œâ”€ å¸‚åœºå¤„äº(A2)ä¸‹é™è¶‹åŠ¿
â”‚  â”œâ”€ BTC/ETHä¸­æœŸç¡®è®¤ä¸‹è·Œ
â”‚  â”œâ”€ æŸå¸ç§æåº¦è¶…å–: RSI7 <= 25
â”‚  â””â”€ æˆäº¤é‡é…åˆï¼ˆä¸è¦æ±‚æ”¾å¤§ï¼Œä¿å®ˆï¼‰
â”‚
â”œâ”€ å¼€ä»“è§„åˆ™:
â”‚  â”œâ”€ æ æ†: <= 3å€ï¼ˆvså¸¸è§„æœ€é«˜5å€ï¼‰
â”‚  â”œâ”€ ä»“ä½: é£é™©é¢„ç®—å‡åŠï¼ˆ0.016% accountï¼‰
â”‚  â”œâ”€ æ­¢æŸ: 1.5x ATRï¼ˆæ›´ç´§ï¼Œvså¸¸è§„2xï¼‰
â”‚  â”œâ”€ æ­¢ç›ˆ: 3.0x ATRï¼ˆç»´æŒ2:1 R/Rï¼‰
â”‚  â””â”€ ä¿¡å¿ƒ: >= 85åˆ†ï¼ˆæ›´ä¸¥æ ¼ï¼‰
â”‚
â”œâ”€ æŒä»“ç®¡ç†:
â”‚  â”œâ”€ æ—¶é—´é™åˆ¶: ä¼˜å…ˆ30åˆ†é’Ÿå†…çš„åå¼¹
â”‚  â”œâ”€ å¼ºåˆ¶æ­¢æŸ: RSI7åå¼¹åˆ°50ä»¥ä¸Š â†’ å¹³ä»“
â”‚  â””â”€ å‘¼å¸ç©ºé—´: æœ¬ç­–ç•¥ä¸é€‚ç”¨ï¼ˆé£é™©å¤ªé«˜ï¼‰
â”‚
â””â”€ ç›ˆåˆ©ç›®æ ‡:
   â””â”€ åœ¨æåº¦è¶…å–ç‚¹åå¼¹æ—¶å°é¢è·åˆ©
```

### V4.0+ é¡ºåŠ¿åå¼¹ï¼ˆæŒç»­ï¼‰

#### A1ä¸Šå‡è¶‹åŠ¿ - é¡ºåŠ¿åšå¤š
```
è§¦å‘: Price å›è¸© EMA20 + åŠ¨é‡åå¼¹ä¿¡å·
â”œâ”€ æ­¢æŸ: 2-3x ATR (ä½æ³¢åŠ¨ç”¨2x)
â”œâ”€ æ­¢ç›ˆ: 8-15x ATR (è¶‹åŠ¿å¼ºæ—¶ç”¨12-15x)
â””â”€ R/R: >= 2:1
```

#### A2ä¸‹é™è¶‹åŠ¿ - é¡ºåŠ¿åšç©º
```
è§¦å‘: Price åå¼¹è‡³ EMA20 + åŠ¨é‡è½¬å¼±ä¿¡å·
â”œâ”€ æ­¢æŸ: 2-3x ATR
â”œâ”€ æ­¢ç›ˆ: 8-15x ATR (è¶‹åŠ¿å¼ºæ—¶ç”¨12-15x)
â””â”€ R/R: >= 2:1
```

#### Béœ‡è¡è¡Œæƒ… - é«˜æŠ›ä½å¸
```
è§¦å‘: RSIè¶…å–(<30) æˆ– RSIè¶…ä¹°(>70)
â”œâ”€ æ­¢æŸ: 5x ATR (ä¸­æ³¢åŠ¨)
â”œâ”€ æ­¢ç›ˆ: 10x ATR (åŸºç¡€å€æ•°)
â””â”€ R/R: >= 2:1
```

### åŠ¨æ€æ æ†ä¸é£é™©

```
ATR% åˆ†çº§:
â”œâ”€ ä½æ³¢åŠ¨ (ATR% < 2%): æ æ†ç³»æ•° 1.0 â†’ æ­¢æŸ 4x ATR, æ­¢ç›ˆ 8x ATR
â”œâ”€ ä¸­æ³¢åŠ¨ (2% â‰¤ ATR% < 4%): æ æ†ç³»æ•° 0.8 â†’ æ­¢æŸ 5x ATR, æ­¢ç›ˆ 10x ATR
â””â”€ é«˜æ³¢åŠ¨ (ATR% >= 4%): æ æ†ç³»æ•° 0.6 â†’ æ­¢æŸ 6x ATR, æ­¢ç›ˆ 12x ATR

å®é™…æ æ† = é…ç½®æ æ† Ã— ç³»æ•° (å‘ä¸‹å–æ•´)
ä¾‹: å±±å¯¨å¸5xæ æ† + ä¸­æ³¢åŠ¨ â†’ 5Ã—0.8=4x
```

### ç¡¬çº¦æŸ (é£æ§åº•çº¿)

1. **é£é™©å›æŠ¥æ¯”**: >= 1:2 (R/R >= 2:1)
2. **æœ€å¤šæŒä»“**: 3ä¸ªå¸ç§
3. **å•å¸ä»“ä½ä¸Šé™**:
   - å±±å¯¨å¸: 0.8-1.5å€è´¦æˆ·å‡€å€¼ Ã— æ æ†
   - BTC/ETH: 5-10å€è´¦æˆ·å‡€å€¼ Ã— æ æ†
4. **ä¿è¯é‡‘ä½¿ç”¨ç‡**: <= 95%
5. **åŒå¸ç§å†·å´**: å¹³ä»“å20åˆ†é’Ÿå†…ç¦æ­¢é‡å¼€
6. **å¼ºå¹³ä»·æ ¡éªŒ**: æ­¢æŸä»·å¿…é¡»åœ¨å¼ºå¹³ä»·èŒƒå›´å†…

---

## 8. å¸‚åœºæ•°æ®è·å–

### æ•°æ®æ¥æº
```
Binance API (å¸å®‰)
â”œâ”€ Kçº¿æ•°æ® (3åˆ†é’Ÿã€4å°æ—¶)
â”œâ”€ æŠ€æœ¯æŒ‡æ ‡ (EMA, MACD, RSI)
â”œâ”€ æŒä»“é‡ (Open Interest)
â”œâ”€ èµ„é‡‘è´¹ç‡ (Funding Rate)
â””â”€ æˆäº¤é‡ (Volume)

AI500 (å¸ç§çƒ­åº¦)
â”œâ”€ çƒ­ç‚¹å¸ç§æ’è¡Œ
â””â”€ è¯„åˆ†æ’åº

OI_Top (æŒä»“é‡å¢é•¿)
â”œâ”€ æŒä»“é‡å¢é•¿æ’è¡Œ
â”œâ”€ æŒä»“é‡å˜åŒ–%
â””â”€ å‡€å¤šç©ºä»“ä½
```

### æ•°æ®ç»“æ„ (market.Data)
```go
type Data struct {
    Symbol              string
    CurrentPrice        float64      // å½“å‰å¸‚ä»·
    PriceChange1h       float64      // 1hæ¶¨è·Œ%
    PriceChange4h       float64      // 4hæ¶¨è·Œ%
    CurrentEMA20        float64      // å½“å‰EMA20
    CurrentMACD         float64      // MACDå€¼
    CurrentRSI7         float64      // RSI(7)
    OpenInterest        *OIData      // æŒä»“é‡
    FundingRate         float64      // èµ„é‡‘è´¹ç‡
    IntradaySeries      *IntradayData   // æ—¥å†…3mæ•°æ®
    LongerTermContext   *LongerTermData // 4hé•¿æœŸæ•°æ®
}
```

---

## 9. äº¤æ˜“æ‰€é›†æˆ

### æ”¯æŒçš„äº¤æ˜“æ‰€

| äº¤æ˜“æ‰€ | æ–‡ä»¶ | ç‰¹ç‚¹ | APIç±»å‹ |
|--------|------|------|--------|
| **Binance** | `/trader/binance_futures.go` | ä¸­å¿ƒåŒ–ã€æµåŠ¨æ€§å¤§ | å®˜æ–¹REST + WebSocket |
| **Hyperliquid** | `/trader/hyperliquid_trader.go` | DEXæ°¸ç»­æœŸè´§ã€éæ‰˜ç®¡ | å®˜æ–¹SDK |
| **Aster DEX** | `/trader/aster_trader.go` | Binanceå…¼å®¹ã€å¤šé“¾ | Binance APIå…¼å®¹ |
| **Mock** | `/trader/mock_trader.go` | çº¸é¢äº¤æ˜“ã€æµ‹è¯• | æœ¬åœ°æ¨¡æ‹Ÿ |

### äº¤æ˜“æµç¨‹ï¼ˆä»¥Binanceä¸ºä¾‹ï¼‰

```go
AutoTrader.Run()  // å®šæ—¶æ‰«æ
    â†“
GetDecision()     // è°ƒç”¨Decision Engine
    â†“
ExecuteDecision() // éå†å†³ç­–æ•°ç»„
    â†“
trader.OpenLong/OpenShort/CloseLong/CloseShort()
    â”œâ”€ éªŒè¯å‚æ•°
    â”œâ”€ è°ƒæ•´ç²¾åº¦
    â”œâ”€ å‘é€è®¢å•
    â””â”€ è¿”å›ç»“æœ
    â†“
DecisionLogger.Log() // è®°å½•åˆ°æ—¥å¿—
```

---

## 10. é…ç½®ç®¡ç† (config.json)

### æ ¸å¿ƒé…ç½®é¡¹

```json
{
  "traders": [
    {
      "id": "trader_id",
      "name": "Trader Name",
      "enabled": true,
      "ai_model": "deepseek",      // "qwen" æˆ– "deepseek"
      "exchange": "binance",       // "binance", "hyperliquid", "aster"
      
      // Binance API
      "binance_api_key": "...",
      "binance_secret_key": "...",
      "binance_testnet": false,
      
      // AIé…ç½®
      "deepseek_key": "sk-...",
      "qwen_key": "...",
      
      // è´¦æˆ·åˆå§‹èµ„é‡‘ï¼ˆç”¨äºè®¡ç®—ç›ˆäºï¼‰
      "initial_balance": 1000,
      
      "scan_interval_minutes": 3
    }
  ],
  
  "leverage": {
    "btc_eth_leverage": 5,         // BTC/ETHæœ€é«˜æ æ†
    "altcoin_leverage": 5          // å±±å¯¨å¸æœ€é«˜æ æ†
  },
  
  // å¸ç§æ± 
  "use_default_coins": true,
  "default_coins": ["BTCUSDT", "ETHUSDT", ...],
  
  // APIæœåŠ¡
  "api_server_port": 8080,
  
  // é£æ§
  "max_daily_loss": 10.0,          // %
  "max_drawdown": 20.0,            // %
  "stop_trading_minutes": 60
}
```

---

## 11. æ—¥å¿—ç³»ç»Ÿ

### å†³ç­–æ—¥å¿—ç»“æ„

**ä½ç½®**: `/decision_logs/[trader_id]/decision_cycle[N]_[timestamp].json`

```json
{
  "timestamp": "2024-11-04T10:30:00Z",
  "cycle_number": 123,
  
  "input_prompt": "...",           // å‘é€ç»™AIçš„è¾“å…¥Prompt
  "cot_trace": "...",              // AIæ€ç»´é“¾åˆ†æ
  "decision_json": "[...]",        // AIè¿”å›çš„å†³ç­–JSON
  
  "account_state": {
    "total_balance": 1000.5,
    "available_balance": 800.3,
    "total_unrealized_profit": 50.2,
    "position_count": 2,
    "margin_used_pct": 15.5
  },
  
  "positions": [
    {
      "symbol": "BTCUSDT",
      "side": "long",
      "position_amt": 0.01,
      "entry_price": 50000,
      "mark_price": 52000,
      "unrealized_profit": 200,
      "leverage": 5,
      "liquidation_price": 48000
    }
  ],
  
  "candidate_coins": ["ETHUSDT", "SOLUSDT", ...],
  
  "decisions": [
    {
      "action": "open_long",
      "symbol": "SOLUSDT",
      "quantity": 1.5,
      "leverage": 3,
      "price": 150.5,
      "timestamp": "2024-11-04T10:31:00Z",
      "success": true
    }
  ],
  
  "success": true
}
```

### åˆ†æè„šæœ¬

20+ä¸ªPythonåˆ†æè„šæœ¬ç”¨äºå¤ç›˜ï¼š
- `analyze_trades.py` - äº¤æ˜“ç»Ÿè®¡
- `analyze_closes.py` - å¹³ä»“åŸå› åˆ†æ
- `analyze_holding_duration.py` - æŒä»“æ—¶é•¿åˆ†å¸ƒ
- `analyze_margin.py` - ä¿è¯é‡‘ä½¿ç”¨åˆ†æ
- ç­‰ç­‰

---

## 12. ä»£ç ä¿®æ”¹å‰é¡»çŸ¥

### å…³é”®æ–‡ä»¶ä¸èŒè´£

```
âš ï¸ ä¿®æ”¹å‰åŠ¡å¿…ç†è§£ä»¥ä¸‹åŸåˆ™ï¼š

1ï¸âƒ£ é›¶ä¿¡ä»»åŸåˆ™ (Zero-Trust)
   â”œâ”€ å…³é”®è®¡ç®—: ATR%, R/Ræ¯”, å¼ºå¹³ä»· â†’ åªèƒ½åœ¨Goç«¯
   â”œâ”€ ä¸ä¿¡ä»»AI: ä»»ä½•ä¼ªé€ ä¼šè¢«Goç«¯éªŒè¯å‘ç°
   â””â”€ ä½ç½®: decision/agents/ ä¸­å„Agentçš„Calculate/Analyzeå‡½æ•°

2ï¸âƒ£ Multi-Agentè§£è€¦
   â”œâ”€ å„Agentç‹¬ç«‹èŒè´£ï¼Œé€šè¿‡Orchestratoråè°ƒ
   â”œâ”€ ä¿®æ”¹å•ä¸ªAgentä¸å½±å“å…¶ä»–
   â””â”€ ä½ç½®: decision/agents/orchestrator.go çš„GetFullDecision()

3ï¸âƒ£ å¸¸é‡ç®¡ç†
   â”œâ”€ æ‰€æœ‰é˜ˆå€¼ç»Ÿä¸€åœ¨ constants.go
   â”œâ”€ ä¿®æ”¹ç­–ç•¥å‚æ•°åªéœ€æ”¹è¿™é‡Œ
   â””â”€ ä¾‹: CountertrendRSIThreshold, MinRiskRewardç­‰

4ï¸âƒ£ å¼ºå¹³ä»·æ ¡éªŒ (å…³é”®é£æ§)
   â”œâ”€ æ¯ç¬”å¼€ä»“éƒ½å¿…é¡»éªŒè¯: æ­¢æŸ vs å¼ºå¹³ä»·
   â”œâ”€ ä½ç½®: decision/engine.go çš„validateDecision()
   â””â”€ å…¬å¼: 
       åšå¤šå¼ºå¹³ä»· = å…¥åœºä»· Ã— (1 - 0.95/æ æ†)
       åšç©ºå¼ºå¹³ä»· = å…¥åœºä»· Ã— (1 + 0.95/æ æ†)

5ï¸âƒ£ æ—¥å¿—å®Œæ•´æ€§
   â”œâ”€ æ¯ä¸ªå†³ç­–å¿…é¡»è®°å½•å®Œæ•´Prompt + CoT + JSON
   â”œâ”€ ä½ç½®: logger/decision_logger.go
   â””â”€ ç”¨é€”: äº‹åå¤ç›˜ã€ç³»ç»Ÿä¼˜åŒ–

6ï¸âƒ£ é…ç½®ä¸ä»£ç åˆ†ç¦»
   â”œâ”€ å¯è°ƒå‚æ•°åœ¨ config.json
   â”œâ”€ ç­–ç•¥å›ºå®šè§„åˆ™åœ¨ constants.go
   â””â”€ ä¸è¦åœ¨auto_trader.goä¸­ç¡¬ç¼–ç å€¼
```

### é‡è¦ä»£ç ä½ç½®ç´¢å¼•

| éœ€æ±‚ | æ–‡ä»¶ | è¡Œæ•° |
|------|------|------|
| ä¿®æ”¹æ æ†è§„åˆ™ | `/decision/agents/constants.go` | å…¨æ–‡ |
| ä¿®æ”¹ä½“åˆ¶åˆ¤æ–­ | `/decision/agents/regime_agent.go` | 40-80 |
| ä¿®æ”¹ä¿¡å·è§„åˆ™ | `/decision/agents/signal_agent.go` | 150-250 |
| ä¿®æ”¹æ­¢æŸæ­¢ç›ˆ | `/decision/agents/risk_agent.go` | 50-150 |
| ä¿®æ”¹æŒä»“ç®¡ç† | `/decision/agents/position_agent.go` | 50-100 |
| ä¿®æ”¹é£æ§çº¦æŸ | `/decision/engine.go` | 940-1050 |
| æ·»åŠ æ–°å¸ç§ | `/config.json` | `default_coins` æ•°ç»„ |
| ä¿®æ”¹æ‰«æé¢‘ç‡ | `/config.json` | `scan_interval_minutes` |
| è°ƒæ•´æœ€å¤§æŒä»“ | `/trader/auto_trader.go` | æœç´¢ `maxPositions` |

---

## 13. ç³»ç»ŸçŠ¶æ€ä¸ä¿®æ”¹è®°å½•

### ä¿®æ”¹çŠ¶æ€ (git status)
```
å·²ä¿®æ”¹æ–‡ä»¶:
M decision/agents/orchestrator.go
M decision/agents/position_agent.go
M decision/agents/regime_agent.go
M decision/engine.go
M logger/decision_logger.go

æœªè¿½è¸ªæ–‡ä»¶:
?? monitor_v5.sh
?? nofx.pid
?? watch_v5.sh
```

### å»ºè®®ä¸‹ä¸€æ­¥æ”¹è¿›
1. âœ… V5.0é€†åŠ¿MVPå®Œæˆ â†’ ä¸‹ä¸€æ­¥æµ‹è¯•å®ç›˜
2. ğŸ“Š å¢åŠ æ›´å¤šå¸‚åœºä½“åˆ¶åˆ¤æ–­ï¼ˆè¶‹åŠ¿å¼ºåº¦è¯„åˆ†ï¼‰
3. ğŸ¯ åŠ¨æ€ä»“ä½å¤§å°ï¼ˆåŸºäºå¤æ™®æ¯”ç‡åé¦ˆï¼‰
4. ğŸ”„ å¤šæ¨¡å‹å¯¹æŠ—ï¼ˆQwen vs DeepSeekæŒç»­å¯¹æ¯”ï¼‰
5. ğŸ“ˆ Kçº¿å›¾è¡¨é›†æˆåˆ°Web Dashboard

---

## 14. å¿«é€Ÿå‚è€ƒ - å¸¸è§ä¿®æ”¹

### ä¿®æ”¹A2é€†åŠ¿ç­–ç•¥å‚æ•°
```go
// æ–‡ä»¶: /decision/agents/constants.go
CountertrendRSIThreshold       = 20.0  // ä¿®æ”¹RSIé˜ˆå€¼
CountertrendMaxLeverage        = 2     // ä¿®æ”¹æœ€å¤§æ æ†
CountertrendStopMultiple       = 1.0   // ä¿®æ”¹æ­¢æŸå€æ•°
CountertrendTPMultiple         = 2.0   // ä¿®æ”¹æ­¢ç›ˆå€æ•°
CountertrendMinConfidence      = 90    // ä¿®æ”¹ä¿¡å¿ƒåº¦é˜ˆå€¼
```

### ä¿®æ”¹æœ€ä½é£é™©å›æŠ¥æ¯”
```go
// æ–‡ä»¶: /decision/agents/constants.go
MinRiskReward = 1.5  // ä»2.0æ”¹ä¸º1.5 (æ›´æ¿€è¿›)
```

### å¢åŠ æ–°å¸ç§
```json
// æ–‡ä»¶: config.json
"default_coins": [
  "BTCUSDT",
  "ETHUSDT",
  "SOLUSDT",
  "NEWCOIN"  // æ·»åŠ æ–°å¸ç§
]
```

### ä¿®æ”¹æ‰«æé—´éš”
```json
// æ–‡ä»¶: config.json
"scan_interval_minutes": 5  // ä»3åˆ†é’Ÿæ”¹ä¸º5åˆ†é’Ÿ
```

---

## æ€»ç»“

NOFXæ˜¯ä¸€ä¸ª**é«˜åº¦æ¨¡å—åŒ–çš„Multi-Agentäº¤æ˜“ç³»ç»Ÿ**ï¼Œæ ¸å¿ƒç‰¹ç‚¹ï¼š

âœ… **è§£è€¦çš„Agentæ¶æ„** - å¸‚åœºä½“åˆ¶/ä¿¡å·/æŒä»“/é£é™©å®Œå…¨ç‹¬ç«‹
âœ… **é›¶ä¿¡ä»»é£æ§** - å…³é”®è®¡ç®—ä¸ä¿¡ä»»AIï¼Œç”±Goç«¯æŠŠå…³
âœ… **å®Œæ•´çš„æ—¥å¿—ä½“ç³»** - æ¯ä¸ªå†³ç­–éƒ½èƒ½ç²¾ç¡®å¤ç›˜
âœ… **å¤šäº¤æ˜“æ‰€æ”¯æŒ** - Binance/Hyperliquid/Aster/Mockç»Ÿä¸€æ¥å£
âœ… **åŠ¨æ€é£é™©ç®¡ç†** - ATR%é©±åŠ¨çš„æ æ†ä¸æ­¢æŸè°ƒæ•´
âœ… **ä¿å®ˆçš„V5.0** - é€†åŠ¿ç­–ç•¥ä¸¥æ ¼é™åˆ¶ï¼Œä¼˜åŒ–èƒœç‡
âœ… **é…ç½®ä¸ä»£ç åˆ†ç¦»** - å‚æ•°ä¸éœ€æ”¹ä»£ç ï¼Œæ”¹config.jsonå³å¯

**ä¸‹æ¬¡ä¿®æ”¹æ—¶**ï¼Œå…ˆæŸ¥çœ‹ç¬¬12ã€14ç« çš„å¿«é€Ÿå‚è€ƒï¼Œæ‰¾åˆ°å¯¹åº”æ–‡ä»¶ä¿®æ”¹ï¼Œç„¶ågit commitå®Œæ•´è¯´æ˜æ”¹åŠ¨åŸå› ã€‚

